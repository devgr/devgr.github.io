(function(e){function t(t){for(var a,n,o=t[0],h=t[1],c=t[2],l=0,d=[];l<o.length;l++)n=o[l],s[n]&&d.push(s[n][0]),s[n]=0;for(a in h)Object.prototype.hasOwnProperty.call(h,a)&&(e[a]=h[a]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,o=1;o<r.length;o++){var h=r[o];0!==s[h]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},s={app:0},i=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://devgr.github.io/ascii-farmer-v1/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],h=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=h;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("04f5"),s=r.n(a);s.a},"04f5":function(e,t,r){},"2e26":function(e,t,r){"use strict";var a=r("6de6"),s=r.n(a);s.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("097d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h1",[e._v("ASCII FARMER")]),r("Game"),r("br"),r("pre",[e._v(e._s(e.instructions))])],1)},i=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("pre",[e._v(e._s(e.terminal))]),r("br"),r("pre",[e._v(e._s(e.score))])])},o=[],h=r("c665"),c=r("aa9a"),u=r("dc0a"),l=r("d328"),d=r("11d9"),p=function(){function e(){Object(h["a"])(this,e)}return Object(c["a"])(e,[{key:"onExit",value:function(){}}]),e}(),f=function(e){function t(){var e;return Object(h["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.sprite=[" "],e.shape=["1"],e}return Object(u["a"])(t,e),t}(p),b=function(e){function t(){var e;return Object(h["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.sprite=["ASCII FARMER"],e.shape=["111111111111"],e.alreadyExited=!1,e}return Object(c["a"])(t,[{key:"onExit",value:function(e){this.alreadyExited||(e.showStartPrompt(),this.alreadyExited=!0)}}]),Object(u["a"])(t,e),t}(p),m=function(e){function t(){var e;return Object(h["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.sprite=["Press <space> to start."],e.shape=["11111111111111111111111"],e}return Object(u["a"])(t,e),t}(p),v=function(e){function t(){var e;return Object(h["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.sprite=["[ ]","\\@/"," V "],e.shape=["1 1","111"," 1 "],e}return Object(u["a"])(t,e),t}(p),g=function(e){function t(){var e;return Object(h["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.sprite=["(((((((","   |   "," []H[] ","   H   ","  {=}  "],e.shape=["1111111","   1   "," 11111 ","   1   ","  111  "],e}return Object(u["a"])(t,e),t}(p),w=function(e){function t(){var e;return Object(h["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.sprite=["#"],e.shape=["1"],e}return Object(u["a"])(t,e),t}(p),P=function(e){function t(){var e;return Object(h["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),e.sprite=["#"],e.shape=["1"],e}return Object(u["a"])(t,e),t}(p),y={Blank:f,MainTitle:b,StartPrompt:m,PlayerShip:v,Wall:w,Grain:P,PlayerTractor:g},O=y,j=24,S=80,k=function(){function e(t,r,a){Object(h["a"])(this,e),this.update(t,r,a)}return Object(c["a"])(e,[{key:"update",value:function(e,t,r){this.piece=e,this.subY=t,this.subX=r}}]),e}(),T=function(){function e(){Object(h["a"])(this,e),this.boardHeight=j,this.boardWidth=S,this.worldY=0,this.board=this.newBoard()}return Object(c["a"])(e,[{key:"newBoard",value:function(){for(var e=[],t=0;t<this.boardHeight;t++)e.push(this.newRow());return e}},{key:"newRow",value:function(){for(var e=[],t=0;t<this.boardWidth;t++){var r=new O.Blank,a=new k(r,0,0);e.push(a)}return e}},{key:"setBoard",value:function(e){this.worldY=0,this.board=e}},{key:"placePiece",value:function(e,t,r){for(var a=0;a<e.shape.length;a++)for(var s=0;s<e.shape[a].length;s++)if("1"===e.shape[a][s]){var i=this.board[t+a][r+s];i.piece instanceof O.Grain&&this.worldY++,i.piece=e,i.subY=a,i.subX=s}}},{key:"removePieceAt",value:function(e,t,r){for(var a=0;a<e.shape.length;a++)for(var s=0;s<e.shape[a].length;s++)if("1"===e.shape[a][s]){var i=this.board[t+a][r+s];i.piece=new O.Blank,i.subY=0,i.subX=0}}},{key:"movePieceAtTo",value:function(e,t,r,a,s){this.removePieceAt(e,t,r),this.placePiece(e,a,s)}},{key:"addRow",value:function(e){this.board.push(e)}},{key:"scroll",value:function(e){for(var t=this.board[0],r=0;r<t.length;r++)t[r].piece.onExit(e);this.board.shift()}}]),e}(),H=T,M=function(){function e(t,r){Object(h["a"])(this,e),this.gameboard=t,this.domController=r}return Object(c["a"])(e,[{key:"render",value:function(e){for(var t=this.gameboard.board,r="",a=0;a<t.length;a++){for(var s=t[a],i=0;i<s.length;i++){var n=s[i],o=n.piece.sprite,h=o[n.subY][n.subX];r+=h}r+="\n"}this.domController.updateTerminal(r),this.domController.updateScore(e)}}]),e}(),A=M,_=function(){function e(){Object(h["a"])(this,e),this.frameSnapshot={up:{isPressed:!1,isHeld:!1},down:{isPressed:!1,isHeld:!1},left:{isPressed:!1,isHeld:!1},right:{isPressed:!1,isHeld:!1},space:{isPressed:!1,isHeld:!1}}}return Object(c["a"])(e,[{key:"start",value:function(){var e=this;window.addEventListener("keydown",function(t){switch(t.code){case"Space":e.frameSnapshot.space.isPressed=!0,e.frameSnapshot.space.isHeld=!0;break;case"ArrowUp":e.frameSnapshot.up.isPressed=!0,e.frameSnapshot.up.isHeld=!0;break;case"ArrowDown":e.frameSnapshot.down.isPressed=!0,e.frameSnapshot.down.isHeld=!0;break;case"ArrowLeft":e.frameSnapshot.left.isPressed=!0,e.frameSnapshot.left.isHeld=!0;break;case"ArrowRight":e.frameSnapshot.right.isPressed=!0,e.frameSnapshot.right.isHeld=!0;break}}),window.addEventListener("keyup",function(t){switch(t.code){case"Space":e.frameSnapshot.space.isHeld=!1;break;case"ArrowUp":e.frameSnapshot.up.isHeld=!1;break;case"ArrowDown":e.frameSnapshot.down.isHeld=!1;break;case"ArrowLeft":e.frameSnapshot.left.isHeld=!1;break;case"ArrowRight":e.frameSnapshot.right.isHeld=!1;break}})}},{key:"getInput",value:function(){var e=this.frameSnapshot;return this.resetPressed(e),e}},{key:"resetPressed",value:function(e){this.frameSnapshot={up:{isPressed:!1,isHeld:e.up.isHeld},down:{isPressed:!1,isHeld:e.down.isHeld},left:{isPressed:!1,isHeld:e.left.isHeld},right:{isPressed:!1,isHeld:e.right.isHeld},space:{isPressed:!1,isHeld:e.space.isHeld}}}}]),e}(),I=_,R=function(){function e(t,r){Object(h["a"])(this,e),this.gameManager=t,this.gameboard=r,this.spawn()}return Object(c["a"])(e,[{key:"spawn",value:function(){this.piece=new O.PlayerTractor,this.y=2,this.x=Math.round(this.gameboard.boardWidth/2-this.piece.shape[0].length/2),this.gameboard.placePiece(this.piece,this.y,this.x)}},{key:"update",value:function(e){var t=0,r=0;e.down.isHeld&&!e.down.isPressed?t+=2:e.down.isPressed&&(t+=1),e.up.isHeld&&!e.up.isPressed?t-=2:e.up.isPressed&&(t-=1),e.right.isHeld&&!e.right.isPressed?r+=2:e.right.isPressed&&(r+=1),e.left.isHeld&&!e.left.isPressed?r-=2:e.left.isPressed&&(r-=1),(this.y+t>=this.gameboard.boardHeight-5||this.y+t<0)&&(t=0),(this.x+r>=this.gameboard.boardWidth-6||this.x+r<0)&&(r=0),this.gameboard.movePieceAtTo(this.piece,this.y,this.x,this.y+t,this.x+r),this.y+=t,this.x+=r}},{key:"scroll",value:function(){this.gameboard.movePieceAtTo(this.piece,this.y,this.x,this.y+1,this.x)}}]),e}(),x=R,E=(r("c5f6"),{INIT:"INIT",MAIN_TITLE:"MAIN_TITLE",START_PROMPT:"START_PROMPT",GAME:"GAME"}),G=function(){function e(t,r,a){Object(h["a"])(this,e),this.gameboard=t,this.playerClass=r,this.mapBuilderClass=a,this.player=null,this.state=E.INIT,this.scrollFactor=1,this.framesSinceScroll=0,this.level=0}return Object(c["a"])(e,[{key:"loadMainTitle",value:function(){this.state=E.MAIN_TITLE;var e=new O.MainTitle,t=this.gameboard.boardHeight-e.shape.length,r=Math.round(this.gameboard.boardWidth/2-e.shape[0].length/2);this.gameboard.placePiece(e,t,r),this.scrollFactor=3}},{key:"update",value:function(e){var t=" ";if(this.state!==E.START_PROMPT&&this.state!==E.MAIN_TITLE||!e.space.isPressed?this.state===E.GAME&&(this.player.update(e),t="Score: "+this.gameboard.worldY):this.startGame(),this.framesSinceScroll>=this.scrollFactor){if(this.state===E.GAME){var r=this.gameboard.newRow();this.mapBuilder.fillRow(r),this.gameboard.addRow(r),this.player.scroll()}else{var a=this.gameboard.newRow();this.gameboard.addRow(a)}this.gameboard.scroll(this),this.framesSinceScroll=0}else this.framesSinceScroll++;return t}},{key:"showStartPrompt",value:function(){this.state=E.START_PROMPT,this.startPrompt=new O.StartPrompt,this.startPromptY=Math.round(this.gameboard.boardHeight/2-this.startPrompt.shape.length/2),this.startPromptX=Math.round(this.gameboard.boardWidth/2-this.startPrompt.shape[0].length/2),this.gameboard.placePiece(this.startPrompt,this.startPromptY,this.startPromptX),this.scrollFactor=Number.POSITIVE_INFINITY}},{key:"startGame",value:function(){this.state=E.GAME,this.level=1,this.scrollFactor=3,this.mapBuilder=new this.mapBuilderClass(this.level);for(var e=this.gameboard.newBoard(),t=0;t<e.length;t++)this.mapBuilder.fillRow(e[t]);this.gameboard.setBoard(e),this.player=new this.playerClass(this,this.gameboard)}}]),e}(),B=G,C=function(){function e(t){Object(h["a"])(this,e),this.difficulty=t,this.rowCount=0}return Object(c["a"])(e,[{key:"fillRow",value:function(e){for(var t=0;t<e.length;t++)t%3===0?Math.random()<.6&&e[t].update(new O.Grain,0,0):Math.random()<.05&&e[t].update(new O.Grain,0,0);this.rowCount++}}]),e}(),Y=C,L=function(){function e(t){var r=this;Object(h["a"])(this,e),this.gameboard=new H,this.renderer=new A(this.gameboard,t),this.inputter=new I,this.gameManager=new B(this.gameboard,x,Y),this.inputter.start(),this.gameManager.loadMainTitle();var a=30,s=1/a*1e3;window.setInterval(function(){r.gameLoop()},s)}return Object(c["a"])(e,[{key:"gameLoop",value:function(){var e=this.inputter.getInput(),t=this.gameManager.update(e);this.renderer.render(t)}}]),e}(),N=L,F={name:"Game",data:function(){for(var e="",t=0;t<24;t++){for(var r=0;r<80;r++)e+=" ";e+="\n"}return{terminal:e,score:" "}},methods:{updateTerminal:function(e){this.terminal=e},updateScore:function(e){this.score=e}},created:function(){this.game=new N(this)}},W=F,X=(r("2e26"),r("2877")),D=Object(X["a"])(W,n,o,!1,null,"766595cb",null);D.options.__file="Game.vue";var $=D.exports,J={name:"app",components:{Game:$},data:function(){return{instructions:"Instructions:\n\nArrow keys to move.\nSpace to fire.\nCollect power-ups.\nDon't crash."}}},U=J,V=(r("034f"),Object(X["a"])(U,s,i,!1,null,null,null));V.options.__file="App.vue";var q=V.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(q)}}).$mount("#app")},"6de6":function(e,t,r){}});
//# sourceMappingURL=app.c2287d09.js.map